---
title: 'Unhide /Users in 10.9.3'
date: Fri, 16 May 2014 18:31:20 +0000
draft: false
tags: ['Mavericks', 'Shell Script']
---

\[Further Edit\] The below was fixed by Apple.  This is no longer necessary, but I'll leave it here incase the ideas help someone. \[/Further Edit\] \[Edit\] So the below doesn't actually work. Something changes the permissions and hidden flag after my launch daemon runs. I added a check of the files (just ls > to a file) and they get set correctly but by the time I am logged in something has changed it back. \[/edit\] The recent 10.9.3 update has made a strange change for a number of OS X users.  The directory that holds everyone's home folder, /Users, has been hidden along with the /Users/Shared folder. A number of people have found a solution using chflags as follows: \[code language="bash"\]sudo chflags nohidden /Users sudo chflags nohidden /Users/Shared\[/code\] But this doesn't last through a reboot. Not as widely reported, there has also been a permissions change to /Users making it writable by the wheel group and everyone. I have seen an Applescript used as a login item to change the settings back, but this runs every time a user logs in, when the process only needs to run after each reboot.  So I put together another option that uses a launch daemon and a shell script. The shell script is: \[code language="bash"\]#!/bin/sh chmod 755 /Users chflags nohidden /Users chflags nohidden /Users/Shared\[/code\] This should get saved in /Library/Scripts/fixUsersFolder.sh and then made executable. Then the launchd plist is: \[code language="xml"\]&amp;amp;lt;?xml version=&amp;amp;quot;1.0&amp;amp;quot; encoding=&amp;amp;quot;UTF-8&amp;amp;quot;?&amp;amp;gt; &amp;amp;lt;!DOCTYPE plist PUBLIC &amp;amp;quot;-//Apple//DTD PLIST 1.0//EN&amp;amp;quot; &amp;amp;quot;http://www.apple.com/DTDs/PropertyList-1.0.dtd&amp;amp;quot;&amp;amp;gt; &amp;amp;lt;plist version=&amp;amp;quot;1.0&amp;amp;quot;&amp;amp;gt; &amp;amp;lt;dict&amp;amp;gt; &amp;amp;lt;key&amp;amp;gt;Label&amp;amp;lt;/key&amp;amp;gt; &amp;amp;lt;string&amp;amp;gt;com.sneakypockets.fixHidden&amp;amp;lt;/string&amp;amp;gt; &amp;amp;lt;key&amp;amp;gt;Program&amp;amp;lt;/key&amp;amp;gt; &amp;amp;lt;string&amp;amp;gt;/Library/Scripts/fixUsersFolder.sh&amp;amp;lt;/string&amp;amp;gt; &amp;amp;lt;key&amp;amp;gt;RunAtLoad&amp;amp;lt;/key&amp;amp;gt; &amp;amp;lt;true/&amp;amp;gt; &amp;amp;lt;/dict&amp;amp;gt; &amp;amp;lt;/plist&amp;amp;gt; \[/code\] This should be saved to /Library/LaunchDaemons/com.sneakypockets.fixHidden.plist. Now when you boot your computer, launchd will run the script and put the Users directory and Shared directory back to there old style.